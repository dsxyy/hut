---
version: "2.0"

vnf_workflow:
  type: direct


  tasks:
    Instantiate:
      action: std.ssh host="127.0.0.1" username="root" password="siemens"
      input:
        cmd: "source /root/keystonerc_admin && heat stack-create helloworld -f /home/yaoyuan/noCBAM/hot/vnf.yaml"
      publish:
        stack_id: <% task(Instantiate).result %>
      on-success:
        - wait_for_stack

    wait_for_stack:
      action: std.echo output="<% task(Instantiate).result %>"

